(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("87sv"),e.exports=n("ERIh")},"5Wrh":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("17x9"),c=n.n(o),i=n("Pvz/"),l=n.n(i),s=function(){},u=r.a.memo(function(e){var t=e.label,n=e.onClick,a=void 0===n?s:n;return r.a.createElement("button",{className:l.a.btn,onClick:a},t)});u.propTypes={label:c.a.string.isRequired,onClick:c.a.func},t.a=u},"7JQg":function(e,t,n){e.exports={loading:"_1EnK5MMInH",pulse:"_39z9L5I2ao",pulseScaleOut:"_1DSWK2a-pe"}},DKqX:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("17x9"),c=n.n(o),i=n("XN28"),l=n.n(i);function s(e){var t=e.title;return r.a.createElement("div",{className:l.a.root},r.a.createElement("h1",{className:l.a.h1},t))}s.propTypes={title:c.a.string.isRequired},t.a=r.a.memo(s)},EJpJ:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("vpQ4"),r={"Content-Type":"application/json"};function o(e){var t=e.hostname,n=e.port,o=e.secret;return{url:function(e){var t=e.hostname,n=e.port;return"http://".concat(t,":").concat(n)}({hostname:t,port:n}),init:{headers:function(e){var t=e.secret,n=Object(a.a)({},r);return t&&(n.Authorization="Bearer ".concat(t)),n}({secret:o})}}}},EQlU:function(e,t,n){"use strict";var a=n("rePB"),r=n("vpQ4"),o=n("o0o1"),c=n.n(o),i=n("HaE+"),l=n("EJpJ"),s="/proxies";function u(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(c.a.mark(function e(t){var n,a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+s,r);case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(c.a.mark(function e(t,n,a){var o,i,u,p,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={name:a},i=Object(l.a)(t),u=i.url,p=i.init,d="".concat(u).concat(s,"/").concat(n),e.next=5,fetch(d,Object(r.a)({},p,{method:"PUT",body:JSON.stringify(o)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.a)(t),r=a.url,o=a.init,"timeout=5000&url=http://www.google.com/generate_204",i="".concat(r).concat(s,"/").concat(n,"/delay?").concat("timeout=5000&url=http://www.google.com/generate_204"),e.next=5,fetch(i,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=n("p19a");n.d(t,"d",function(){return E}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"g",function(){return N}),n.d(t,"f",function(){return S}),n.d(t,"a",function(){return R});var b=["DIRECT","GLOBAL","REJECT"],g=["Fallback","URLTest","Selector","LoadBalance"],E=function(e){return e.proxies.proxies},y=function(e){return e.proxies.delay},w=function(e){return e.proxies.groupNames},O="proxies/CompletedFetchProxies",x="proxies/OptimisticSwitchProxy",j="proxies/CompletedRequestDelayForProxy";function C(e){var t=[];for(var n in e)if(b.indexOf(n)<0){var a=e[n];g.indexOf(a.type)>=0&&t.push(n)}return t}function k(){return function(){var e=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,i,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=Object(v.c)(a),e.next=4,u(r);case 4:o=e.sent,i=o.proxies,s=C(l=void 0===i?{}:i),t({type:O,payload:{proxies:l,groupNames:s}});case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function N(e,t){return function(){var n=Object(i.a)(c.a.mark(function n(a,o){var i,l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:d(Object(v.c)(o()),e,t).then(function(e){!1===e.ok&&console.log("failed to swith proxy",e.statusText)},function(e){console.log(e,"failed to swith proxy")}).then(function(){a(k())}),i=E(o()),(l=Object(r.a)({},i))[e]&&l[e].now&&(l[e].now=t),a({type:x,payload:{proxies:l}});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}function T(e){return function(){var t=Object(i.a)(c.a.mark(function t(n,o){var i,l,s,u,p,d,f;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(v.c)(o()),t.next=3,h(i,e);case 3:return l=t.sent,s="",!1===l.ok&&(s=l.statusText),t.next=8,l.json();case 8:u=t.sent,p=u.delay,d=y(o()),f=Object(r.a)({},d,Object(a.a)({},e,{error:s,number:p})),n({type:j,payload:{delay:f}});case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}function S(){return function(){var e=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=E(a),o=Object.keys(r),l=[],o.forEach(function(e){"Vmess"!==r[e].type&&"Shadowsocks"!==r[e].type||l.push(e)}),e.next=7,Promise.all(l.map(function(e){return t((a=e,n=Object(i.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(T(a));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}));var n,a}));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var I={proxies:{},delay:{},groupNames:[]};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case j:case x:case O:return Object(r.a)({},e,a);default:return e}}},ERIh:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("DQNa"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("HRxU"),n("eoL8"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf"),n("ls82"),n("ewTs");var a=n("q1tI"),r=n.n(a),o=n("qWSy"),c=n.n(o),i=n("9rZX"),l=n.n(i),s=n("u4Dv"),u=n("55Ip"),p=n("Ty5D"),d=n("17x9"),f=n.n(d),h=n("7JQg"),m=n.n(h),v=function(e){var t=e.height,n=t?{height:t}:{};return r.a.createElement("div",{className:m.a.loading,style:n},r.a.createElement("div",{className:m.a.pulse}))};v.propTypes={height:f.a.string};var b,g=v,E=n("o0o1"),y=n.n(E),w=n("HaE+"),O=n("1OyB"),x=n("vuIU"),j=n("md7G"),C=n("foSv"),k=n("JX7q"),N=n("Ji7U"),T=n("rePB"),S="https://7068a15928ae45cf884dd8398fe8649c@sentry.io/1359284";function I(){return R.apply(this,arguments)}function R(){return(R=Object(w.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return",b);case 2:return e.next=4,n.e(7).then(n.bind(null,"WSEr"));case 4:return(t=e.sent).init({dsn:S}),b=t,e.abrupt("return",b);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){var t=e.width,n=void 0===t?320:t,a=e.height,o=void 0===a?320:a;return r.a.createElement("svg",{width:n,height:o,viewBox:"0 0 320 320",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M71.689 53.055c9.23-1.487 25.684 27.263 41.411 56.663 18.572-8.017 71.708-7.717 93.775 0 4.714-15.612 31.96-57.405 41.626-56.663 3.992.088 13.07 31.705 23.309 94.96 2.743 16.949 7.537 47.492 14.38 91.63-42.339 17.834-84.37 26.751-126.095 26.751-41.724 0-83.756-8.917-126.095-26.751C52.973 116.244 65.536 54.047 71.689 53.055z",stroke:"#EEE",strokeWidth:"5",fill:"currentColor"}),r.a.createElement("circle",{fill:"#EEE",cx:"216.5",cy:"181.5",r:"14.5"}),r.a.createElement("circle",{fill:"#EEE",cx:"104.553",cy:"181.553",r:"14.553"}),r.a.createElement("g",{stroke:"#EEE",strokeLinecap:"round",strokeWidth:"4"},r.a.createElement("path",{d:"M175.568 218.694c-2.494 1.582-5.534 2.207-8.563 1.508-3.029-.7-5.487-2.594-7.035-5.11M143.981 218.694c2.494 1.582 5.534 2.207 8.563 1.508 3.03-.7 5.488-2.594 7.036-5.11"}))))}L.propTypes={width:f.a.number,height:f.a.number};var P=L;function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?24:t,a=e.height,o=void 0===a?24:a;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}_.propTypes={width:f.a.number,height:f.a.number};var A=n("Tk1H"),M=n.n(A),B="https://github.com/haishanh/yacd/issues";function D(e){var t=e.message,n=e.detail;return r.a.createElement("div",{className:M.a.root},r.a.createElement("div",{className:M.a.yacd},r.a.createElement(P,{width:150,height:150})),t?r.a.createElement("h1",null,t):null,n?r.a.createElement("p",null,n):null,r.a.createElement("p",null,r.a.createElement("a",{className:M.a.link,href:B},r.a.createElement(_,{width:16,height:16}),"haishanh/yacd")))}D.propTypes={message:f.a.string};var J,q=D,F=0,H=(J={},Object(T.a)(J,F,{message:"Browser not supported!",detail:'This browser does not support "fetch", please choose another one.'}),Object(T.a)(J,"default",{message:"Oops, something went wrong!"}),J);var X=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(j.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r))),Object(T.a)(Object(k.a)(n),"state",{error:null}),Object(T.a)(Object(k.a)(n),"loadSentry",Object(w.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.sentry){e.next=2;break}return e.abrupt("return",n.sentry);case 2:return e.next=4,I();case 4:return t=e.sent,n.sentry=t,e.abrupt("return",n.sentry);case 7:case"end":return e.stop()}},e)}))),Object(T.a)(Object(k.a)(n),"showReportDialog",function(){n.loadSentry().then(function(e){return e.showReportDialog()})}),n}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidCatch",value:function(e,t){this.setState({error:e})}},{key:"render",value:function(){if(this.state.error){var e=(a=this.state.error,"number"==typeof(o=a.code)?H[o]:H.default),t=e.message,n=e.detail;return r.a.createElement(q,{message:t,detail:n})}return this.props.children;var a,o}}]),t}(a.Component);Object(T.a)(X,"propTypes",{children:f.a.node});var z=X,K=n("TSYQ"),W=n.n(K),Q=n("p19a"),Z=n("SXSQ"),U=n("4BeY"),G=n.n(U),V=n("IaFt"),Y=n.n(V),$=new G.a({id:"moon",use:"moon-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" /></symbol>'}),ee=(Y.a.add($),$);var te=function(){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("path",{d:"M24 14h-4l-3 9-6-18-3 9H4",stroke:"currentColor"})))};var ne=n("kGfw"),ae=n.n(ne),re={activity:te,globe:function(){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("g",{transform:"translate(4 4)",stroke:"currentColor"},r.a.createElement("circle",{cx:"10",cy:"10",r:"10"}),r.a.createElement("path",{d:"M0 10h20M10 0a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))))},command:function(){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("path",{d:"M20 5a3 3 0 0 0-3 3v12a3 3 0 1 0 3-3H8a3 3 0 1 0 3 3V8a3 3 0 1 0-3 3h12a3 3 0 0 0 0-6z",stroke:"currentColor"})))},file:function(){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("g",{stroke:"currentColor"},r.a.createElement("path",{d:"M16 4H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V10l-6-6z"}),r.a.createElement("path",{d:"M16 4v6h6M18 15h-8M18 19h-8M12 11h-2"}))))},settings:function(){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("g",{transform:"translate(3 3)",stroke:"currentColor"},r.a.createElement("circle",{cx:"11",cy:"11",r:"3"}),r.a.createElement("path",{d:"M18.4 14a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V20a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 18.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V8c.26.604.852.997 1.51 1H20a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"}))))}},oe=r.a.memo(function(e){var t=e.location,n=e.iconId,a=e.labelText,o=e.to,c=re[n],i=t.pathname===o,l=W()(ae.a.row,i?ae.a.rowActive:null);return r.a.createElement(u.b,{to:o,className:l},r.a.createElement(c,{isActive:i}),r.a.createElement("div",{className:ae.a.label},a))});oe.propTypes={location:f.a.shape({pathname:f.a.string}).isRequired,to:f.a.string.isRequired,iconId:f.a.string,labelText:f.a.string};var ce={switchTheme:Q.f};function ie(e){var t=e.location,n=Object(s.b)(ce).switchTheme;return r.a.createElement("div",{className:ae.a.root},r.a.createElement("a",{href:"https://github.com/haishanh/yacd",className:ae.a.logoLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:ae.a.logo},r.a.createElement(P,{width:80,height:80}))),r.a.createElement("div",{className:ae.a.rows},r.a.createElement(oe,{to:"/",location:t,iconId:"activity",labelText:"Overview"}),r.a.createElement(oe,{to:"/proxies",location:t,iconId:"globe",labelText:"Proxies"}),r.a.createElement(oe,{to:"/rules",location:t,iconId:"command",labelText:"Rules"}),r.a.createElement(oe,{to:"/configs",location:t,iconId:"settings",labelText:"Config"}),r.a.createElement(oe,{to:"/logs",location:t,iconId:"file",labelText:"Logs"})),r.a.createElement("div",{className:ae.a.themeSwitchContainer,onClick:n},r.a.createElement(Z.a,{id:ee.id,width:20,height:20})))}ie.propTypes={location:f.a.shape({pathname:f.a.string}).isRequired};var le=r.a.memo(ie),se=n("DKqX"),ue=n("vpQ4"),pe=n("Jf6s"),de=n("xaHF"),fe=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],he=function(e){if(e<1e3)return e+" B";var t=Math.min(Math.floor(Math.log10(e)/3),fe.length-1);return(e=Number((e/Math.pow(1e3,t)).toPrecision(3)))+" "+fe[t]},me=Object(de.unstable_createResource)(function(){return n.e(6).then(n.t.bind(null,"JVhT",7)).then(function(e){return e.default})}),ve={borderWidth:1,lineTension:0,pointRadius:0},be={responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!0,position:"top",labels:{fontColor:"#ccc",boxWidth:20}},tooltips:{enabled:!1,mode:"index",intersect:!1,animationDuration:100},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!1,gridLines:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!0,color:"#555",borderDash:[3,6],drawBorder:!1},ticks:{callback:function(e){return he(e)+"/s "}}}]}},ge=[{down:{backgroundColor:"rgba(176, 209, 132, 0.8)",borderColor:"rgb(176, 209, 132)"},up:{backgroundColor:"rgba(181, 220, 231, 0.8)",borderColor:"rgb(181, 220, 231)"}},{up:{backgroundColor:"rgb(98, 190, 100)",borderColor:"rgb(78,146,79)"},down:{backgroundColor:"rgb(160, 230, 66)",borderColor:"rgb(110, 156, 44)"}},{up:{backgroundColor:"rgba(94, 175, 223, 0.3)",borderColor:"rgb(94, 175, 223)"},down:{backgroundColor:"rgba(139, 227, 195, 0.3)",borderColor:"rgb(139, 227, 195)"}},{up:{backgroundColor:"rgba(242, 174, 62, 0.3)",borderColor:"rgb(242, 174, 62)"},down:{backgroundColor:"rgba(69, 154, 248, 0.3)",borderColor:"rgb(69, 154, 248)"}}],Ee=r.a.useEffect,ye=be;function we(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Ee(function(){var o=document.getElementById(t).getContext("2d"),c=new e(o,{type:"line",data:n,options:Object(ue.a)({},ye,r)}),i=a&&a.subscribe(function(){return c.update()});return function(){i&&i(),c.destroy()}},[e,t,n,a,r])}var Oe={position:"relative",maxWidth:1e3},xe=function(e){return{selectedChartStyleIndex:Object(Q.d)(e)}};function je(){var e=me.read(),t=Object(s.c)(Q.c),n=t.hostname,o=t.port,c=t.secret,i=Object(s.c)(xe).selectedChartStyleIndex,l=Object(pe.a)({hostname:n,port:o,secret:c});return we(e,"trafficChart",Object(a.useMemo)(function(){return{labels:l.labels,datasets:[Object(ue.a)({},ve,ge[i].up,{label:"Up",data:l.up}),Object(ue.a)({},ve,ge[i].down,{label:"Down",data:l.down})]}},[l,i]),l),r.a.createElement("div",{style:Oe},r.a.createElement("canvas",{id:"trafficChart"}))}var Ce=n("ODXe"),ke=n("J3/6"),Ne=n.n(ke);function Te(){var e,t,n,o,c,i,l,u,p=(e=Object(a.useState)({upStr:"0 B/s",downStr:"0 B/s"}),t=Object(Ce.a)(e,2),n=t[0],o=t[1],c=Object(s.c)(Q.c),i=c.hostname,l=c.port,u=c.secret,Object(a.useEffect)(function(){return Object(pe.a)({hostname:i,port:l,secret:u}).subscribe(function(e){return o({upStr:he(e.up)+"/s",downStr:he(e.down)+"/s"})})},[i,l,u]),n),d=p.upStr,f=p.downStr;return r.a.createElement("div",{className:Ne.a.TrafficNow},r.a.createElement("div",{className:Ne.a.up},r.a.createElement("div",null,"Upload"),r.a.createElement("div",null,d)),r.a.createElement("div",{className:Ne.a.down},r.a.createElement("div",null,"Download"),r.a.createElement("div",null,f)))}var Se=n("gjz0"),Ie=n.n(Se);function Re(){return r.a.createElement("div",null,r.a.createElement(se.a,{title:"Overview"}),r.a.createElement("div",{className:Ie.a.root},r.a.createElement("div",null,r.a.createElement(Te,null)),r.a.createElement("div",{className:Ie.a.chart},r.a.createElement(a.Suspense,{fallback:r.a.createElement(g,{height:"200px"}),maxDuration:10},r.a.createElement(je,null)))))}var Le=n("iR1w"),Pe=n("Kv4h"),_e=n("EJpJ"),Ae="/logs",Me=new TextDecoder("utf-8"),Be=function(){return Math.floor(65536*(1+Math.random())).toString(16)},De=!1,Je=!1,qe="";function Fe(e,t){var n;try{n=JSON.parse(e)}catch(t){console.log("JSON.parse error",JSON.parse(e))}var a=new Date,r=a.toLocaleString("zh-Hans");n.time=r,n.id=a-0+Be(),n.even=De=!De,t(n)}var He,Xe={};function ze(e,t){if(!He||Xe.hostname===e.hostname&&Xe.port===e.port&&Xe.secret===e.secret&&Xe.logLevel===e.logLevel){if(Je)return}else He.abort();Je=!0,Xe.hostname=e.hostname,Xe.port=e.port,Xe.secret=e.secret,Xe.logLevel=e.logLevel;var n=(He=new AbortController).signal,a=Object(_e.a)(e),r=a.url,o=a.init;fetch(r+Ae+"?level="+e.logLevel,Object(ue.a)({},o,{signal:n})).then(function(e){!function e(t,n){return t.read().then(function(a){for(var r=a.done,o=a.value,c=Me.decode(o,{stream:!r}),i=(qe+=c).split("\n"),l=i[i.length-1],s=0;s<i.length-1;s++)Fe(i[s],n);return r?(Fe(l,n),qe="",console.log("GET /logs streaming done"),void(Je=!1)):(qe=l,e(t,n))})}(e.body.getReader(),t)},function(e){Je=!1,n.aborted||console.log("GET /logs error:",e.message)})}var Ke=n("II4a"),We=n("G4qV"),Qe="logs/UpdateSearchText",Ze="logs/UpdateLogTail",Ue=300,Ge=function(e){return e.logs.logs},Ve=function(e){return e.logs.tail},Ye=function(e){return e.logs.searchText},$e=Object(We.a)(Ge,Ve,Ye,function(e,t,n){for(var a=[],r=t;r>=0;r--)a.push(e[r]);if(e.length===Ue)for(var o=Ue-1;o>t;o--)a.push(e[o]);return""===n?a:a.filter(function(e){return e.payload.toLowerCase().indexOf(n)>=0})});var et={searchText:"",logs:[],tail:-1};var tt={updateSearchText:function(e){return{type:Qe,payload:{searchText:e.toLowerCase()}}}},nt=Object(Ke.a)({mapStateToProps:function(e){return{searchText:Ye(e)}},actions:tt}),at=n("oFgh"),rt=n("RLOP"),ot=n.n(rt),ct=30,it={debug:"none",info:"#454545",warning:"#b99105",error:"#c11c1c"};function lt(e){var t=e.time,n=e.even,a=e.payload,o=e.type,c=W()({even:n},ot.a.log);return r.a.createElement("div",{className:c},r.a.createElement("div",{className:ot.a.logMeta},r.a.createElement("div",{className:ot.a.logTime},t),r.a.createElement("div",{className:ot.a.logType,style:{backgroundColor:it[o]}},o),r.a.createElement("div",{className:ot.a.logText},a)))}function st(e,t){return t[e].id}lt.propTypes={time:f.a.string,even:f.a.bool,payload:f.a.string,type:f.a.string};var ut=Object(a.memo)(function(e){var t=e.index,n=e.style,a=e.data[t];return r.a.createElement("div",{style:n},r.a.createElement(lt,a))},Le.b),pt={appendLog:function(e){return function(t,n){var a=n(),r=Ge(a),o=Ve(a),c=o>=Ue-1?0:o+1;r[c]=e,t({type:Ze,payload:{tail:c}})}}};function dt(){var e=Object(s.c)(Q.c),t=e.hostname,n=e.port,o=e.secret,c=Object(s.b)(pt).appendLog,i=Object(s.c)($e),l=Object(s.c)(at.d);Object(a.useEffect)(function(){ze({hostname:t,port:n,secret:o,logLevel:l},c)},[t,n,o,l,c]);var u=Object(Pe.a)(),p=Object(Ce.a)(u,2),d=p[0],f=p[1];return r.a.createElement("div",null,r.a.createElement(se.a,{title:"Logs"}),r.a.createElement(nt,null),r.a.createElement("div",{ref:d,style:{paddingBottom:ct}},0===i.length?r.a.createElement("div",{className:ot.a.logPlaceholder,style:{height:f-ct}},r.a.createElement("div",{className:ot.a.logPlaceholderIcon},r.a.createElement(P,{width:200,height:200})),r.a.createElement("div",null,"No logs yet, hang tight...")):r.a.createElement("div",{className:ot.a.logsWrapper},r.a.createElement(Le.a,{height:f-ct,width:"100%",itemCount:i.length,itemSize:80,itemData:i,itemKey:st},ut))))}var ft=n("blRg"),ht=n.n(ft),mt=function(){};function vt(e){var t=e.checked,n=void 0!==t&&t,a=e.onChange,o=void 0===a?mt:a,c=e.name,i=void 0===c?"":c;return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:i,checked:n,className:ht.a.switch,onChange:o}))}vt.propTypes={checked:f.a.bool,onChange:f.a.func,name:f.a.string};var bt=r.a.memo(vt),gt=n("YKzy"),Et=n.n(gt);function yt(e){var t=e.options,n=e.value,o=e.name,c=e.onChange,i=Object(a.useMemo)(function(){return t.map(function(e){return e.value}).indexOf(n)},[t,n]),l=(100/t.length).toPrecision(3);return r.a.createElement("div",null,r.a.createElement("div",{className:Et.a.ToggleSwitch},r.a.createElement("div",{className:Et.a.slider,style:{width:l+"%",left:i*l+"%"}}),t.map(function(e,t){var a="".concat(o,"-").concat(e.label),i=0===t?"":"border-left";return r.a.createElement("label",{htmlFor:a,key:a,className:i},r.a.createElement("input",{id:a,name:o,type:"radio",value:e.value,checked:n===e.value,onChange:c}),r.a.createElement("div",null,e.label))})))}yt.propTypes={options:f.a.array,value:f.a.string,name:f.a.string,onChange:f.a.func};var wt=r.a.memo(yt),Ot=n("wx14"),xt=n("Wii/"),jt=n.n(xt);function Ct(e){return r.a.createElement("input",Object(Ot.a)({className:jt.a.input},e))}Ct.propTypes={value:f.a.oneOfType([f.a.string,f.a.number]),type:f.a.string,onChange:f.a.func,name:f.a.string,placeholder:f.a.string};var kt=n("5Wrh"),Nt=n("uLK7"),Tt=n.n(Nt);function St(e){var t=e.OptionComponent,n=e.optionPropsList,a=e.selectedIndex,o=e.onChange;return r.a.createElement("div",{className:Tt.a.root},n.map(function(e,n){var c=W()(Tt.a.item,Object(T.a)({},Tt.a.itemActive,n===a));return r.a.createElement("div",{key:n,className:c,onClick:function(e){e.preventDefault(),n!==a&&o(n)}},r.a.createElement(t,e))}))}St.propTypes={OptionComponent:d.func,optionPropsList:d.array,selectedIndex:d.number,onChange:d.func};var It={legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}},Rt=[23e3,35e3,46e3,33e3,9e4,68e3,23e3,45e3],Lt=[184e3,183e3,196e3,182e3,19e4,186e3,182e3,189e3],Pt=Rt;function _t(e){var t=e.id,n=me.read(),o=Object(a.useMemo)(function(){return{labels:Pt,datasets:[Object(ue.a)({},ve,ge[t].up,{data:Rt}),Object(ue.a)({},ve,ge[t].down,{data:Lt})]}},[t]),c="chart-"+t;return we(n,c,o,null,It),r.a.createElement("div",{style:{width:130,padding:5}},r.a.createElement("canvas",{id:c}))}var At=n("S7Mu"),Mt=n.n(At),Bt=[{id:0},{id:1},{id:2},{id:3}],Dt=[{label:"Global",value:"Global"},{label:"Rule",value:"Rule"},{label:"Direct",value:"Direct"}],Jt=[{label:"info",value:"info"},{label:"warning",value:"warning"},{label:"error",value:"error"},{label:"debug",value:"debug"},{label:"silent",value:"silent"}],qt={selectChartStyleIndex:Q.e,fetchConfigs:at.b,updateConfigs:at.e},Ft=function(e){return{configs:Object(at.c)(e)}};function Ht(){var e=Object(s.b)(qt).fetchConfigs,t=Object(s.c)(Ft).configs;return Object(a.useEffect)(function(){e()},[e]),r.a.createElement(zt,{configs:t})}var Xt=function(e){return{selectedChartStyleIndex:Object(Q.d)(e)}};function zt(e){var t=e.configs,n=Object(s.b)(qt),o=n.updateConfigs,c=n.selectChartStyleIndex,i=Object(s.c)(Xt).selectedChartStyleIndex,l=Object(a.useState)(t),u=Object(Ce.a)(l,2),p=u[0],d=u[1],f=Object(a.useState)(t),h=Object(Ce.a)(f,2),m=h[0],v=h[1];m!==t&&(v(t),d(t));var b=function(e,t){d(Object(ue.a)({},p,Object(T.a)({},e,t)))};function g(e){var t=e.target,n=t.name,a=t.value;switch(t.name){case"allow-lan":a=t.checked,b(n,a),o(Object(T.a)({},n,a));break;case"mode":case"log-level":b(n,a),o(Object(T.a)({},n,a));break;case"redir-port":case"socks-port":case"port":if(""!==t.value){var r=parseInt(t.value,10);if(r<0||r>65535)return}b(n,a);break;default:return}}function E(e){var t=e.target,n=t.name,a=t.value;switch(n){case"port":case"socks-port":case"redir-port":var r=parseInt(a,10);if(r<0||r>65535)return;o(Object(T.a)({},n,r))}}return r.a.createElement("div",null,r.a.createElement(se.a,{title:"Config"}),r.a.createElement("div",{className:Mt.a.root},r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"HTTP Proxy Port"),r.a.createElement(Ct,{name:"port",value:p.port,onChange:g,onBlur:E})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"SOCKS5 Proxy Port"),r.a.createElement(Ct,{name:"socks-port",value:p["socks-port"],onChange:g,onBlur:E})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Redir Port"),r.a.createElement(Ct,{name:"redir-port",value:p["redir-port"],onChange:g,onBlur:E})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Allow LAN"),r.a.createElement(bt,{name:"allow-lan",checked:p["allow-lan"],onChange:g})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Mode"),r.a.createElement(wt,{options:Dt,name:"mode",value:p.mode,onChange:g})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Log Level"),r.a.createElement(wt,{options:Jt,name:"log-level",value:p["log-level"],onChange:g}))),r.a.createElement("div",{className:Mt.a.sep},r.a.createElement("div",null)),r.a.createElement("div",{className:Mt.a.section},r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Chart Style"),r.a.createElement(St,{OptionComponent:_t,optionPropsList:Bt,selectedIndex:i,onChange:function(e){c(e)}})),r.a.createElement("div",null,r.a.createElement("div",{className:Mt.a.label},"Action"),r.a.createElement(kt.a,{label:"Log out",onClick:Q.a}))))}zt.propTypes={configs:f.a.object};var Kt=n("Ff2n"),Wt=n("Z9Yo"),Qt=n.n(Wt);function Zt(e){var t=e.isOpen,n=e.onRequestClose,a=e.className,o=e.overlayClassName,c=e.children,i=Object(Kt.a)(e,["isOpen","onRequestClose","className","overlayClassName","children"]),s=W()(a,Qt.a.content),u=W()(o,Qt.a.overlay);return r.a.createElement(l.a,Object(Ot.a)({isOpen:t,onRequestClose:n,className:s,overlayClassName:u},i),c)}Zt.propTypes={isOpen:f.a.bool.isRequired,onRequestClose:f.a.func.isRequired,children:f.a.node.isRequired,className:f.a.string,overlayClassName:f.a.string};var Ut=r.a.memo(Zt),Gt=n("SzcZ"),Vt=n.n(Gt),Yt=r.a.useCallback;function $t(e){var t=e.id,n=e.label,a=e.value,o=e.onChange,c=Object(Kt.a)(e,["id","label","value","onChange"]),i=Yt(function(e){return o(e)},[o]),l=W()(Object(T.a)({},Vt.a.floatAbove,"string"==typeof a&&""!==a));return r.a.createElement("div",{className:Vt.a.root},r.a.createElement("input",Object(Ot.a)({id:t,value:a,onChange:i},c)),r.a.createElement("label",{htmlFor:t,className:l},n))}$t.propTypes={value:f.a.oneOfType([f.a.string,f.a.number]),type:f.a.oneOf(["text","number"]),onChange:f.a.func,id:f.a.string,label:f.a.string};var en=n("Plid"),tn=n.n(en),nn=function(e){return{apiConfig:Object(Q.c)(e)}};var an=function(){var e=Object(s.c)(nn).apiConfig,t=Object(a.useState)(e.hostname),n=Object(Ce.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(e.port),l=Object(Ce.a)(i,2),u=l[0],p=l[1],d=Object(a.useState)(e.secret),f=Object(Ce.a)(d,2),h=f[0],m=f[1],v=Object(s.b)({updateClashAPIConfig:Q.g}),b=Object(a.useRef)(null);Object(a.useEffect)(function(){b.current.focus()},[]);var g=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"port":p(a);break;case"hostname":c(a);break;case"secret":m(a)}};function E(){v.updateClashAPIConfig({hostname:o,port:u,secret:h})}return r.a.createElement("div",{className:tn.a.root,ref:b,onKeyDown:function(e){13===e.keyCode&&E()}},r.a.createElement("div",{className:tn.a.header},r.a.createElement("div",{className:tn.a.icon},r.a.createElement(P,{width:160,height:160}))),r.a.createElement("div",{className:tn.a.body},r.a.createElement("div",{className:tn.a.hostnamePort},r.a.createElement("div",null,r.a.createElement($t,{id:"hostname",name:"hostname",label:"Hostname",type:"text",value:o,onChange:g})),r.a.createElement("div",null,r.a.createElement($t,{id:"port",name:"port",label:"Port",type:"number",value:u,onChange:g}))),r.a.createElement("div",null,r.a.createElement($t,{id:"secret",name:"secret",label:"Secret(optional)",value:h,type:"text",onChange:g}))),r.a.createElement("div",{className:tn.a.footer},r.a.createElement(kt.a,{label:"Confirm",onClick:E})))},rn=n("i53Z"),on=n("rRNg"),cn=n.n(on),ln=function(e){return{modals:e.modals}},sn={closeModal:rn.a,fetchConfigs:at.b};function un(){if(!window.fetch){var e=H[F].detail,t=new Error(e);throw t.code=F,t}var n=Object(s.c)(ln).modals,o=Object(s.b)(sn),c=o.closeModal,i=o.fetchConfigs;return Object(a.useEffect)(function(){i()},[i]),r.a.createElement(Ut,{isOpen:n.apiConfig,className:cn.a.content,overlayClassName:cn.a.overlay,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,onRequestClose:function(){return c("apiConfig")}},r.a.createElement("div",{className:cn.a.container},r.a.createElement(an,null)))}var pn=n("ANjH"),dn=n("sINF"),fn=n("EQlU"),hn=n("Tvb5"),mn=Object(pn.c)({app:Q.b,modals:rn.b,proxies:fn.a,rules:hn.a,logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ze:case Qe:return Object(ue.a)({},e,a);default:return e}},configs:at.a}),vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pn.d;var bn=Object(pn.e)(mn,vn(Object(pn.a)(dn.a))),gn=(n("hN5/"),n("s9ru")),En=n.n(gn),yn=r.a.lazy(function(){return n.e(1).then(n.bind(null,"wyCT"))}),wn=r.a.lazy(function(){return n.e(3).then(n.bind(null,"BVyM"))});window.store=bn;var On=function(){return r.a.createElement(z,null,r.a.createElement(s.a,{store:bn},r.a.createElement(u.a,null,r.a.createElement("div",{className:En.a.app},r.a.createElement(un,null),r.a.createElement(p.a,{path:"/",render:function(e){return r.a.createElement(le,e)}}),r.a.createElement("div",{className:En.a.content},r.a.createElement(a.Suspense,{fallback:r.a.createElement(g,{height:"200px"}),maxDuration:10},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(p.a,{exact:!0,path:"/overview",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(p.a,{exact:!0,path:"/configs",component:Ht}),r.a.createElement(p.a,{exact:!0,path:"/logs",component:dt}),r.a.createElement(p.a,{exact:!0,path:"/proxies",render:function(){return r.a.createElement(yn,null)}}),r.a.createElement(p.a,{exact:!0,path:"/rules",render:function(){return r.a.createElement(wn,null)}})))))))},xn=document.getElementById("app");l.a.setAppElement(xn),(0,c.a.unstable_createRoot)(xn).render(r.a.createElement(On,null)),console.log("Checkout the repo: https://github.com/haishanh/yacd")},II4a:function(e,t,n){"use strict";var a=n("ODXe"),r=n("q1tI"),o=n.n(r),c=n("SXSQ"),i=n("4BeY"),l=n.n(i),s=n("IaFt"),u=n.n(s),p=new l.a({id:"search",use:"search-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="search"><circle cx="11" cy="11" r="8" /><line x1="21" y1="21" x2="16.65" y2="16.65" /></symbol>'}),d=(u.a.add(p),p),f=n("u4Dv"),h=n("hbEN"),m=n("OA2e"),v=n.n(m);t.a=function(e){var t=e.mapStateToProps,n=e.actions;return Object(r.memo)(function(){var e=Object(f.b)(n).updateSearchText,i=Object(r.useMemo)(function(){return Object(h.a)(e,300)},[e]),l=Object(f.c)(t).searchText,s=Object(r.useState)(l),u=Object(a.a)(s,2),p=u[0],m=u[1];return o.a.createElement("div",{className:v.a.RuleSearch},o.a.createElement("div",{className:v.a.RuleSearchContainer},o.a.createElement("div",{className:v.a.inputWrapper},o.a.createElement("input",{type:"text",value:p,onChange:function(e){m(e.target.value),i(e.target.value)},className:v.a.input})),o.a.createElement("div",{className:v.a.iconWrapper},o.a.createElement(c.a,{id:d.id}))))})}},"J3/6":function(e,t,n){e.exports={TrafficNow:"_37kQcxVR4T",down:"_1U3kUwas7v",up:"-Hr5Z5iYfF"}},Jf6s:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("EJpJ"),r="/traffic",o=new TextDecoder("utf-8"),c={labels:Array(150),up:Array(150),down:Array(150),size:150,subscribers:[],appendData:function(e){this.up.push(e.up),this.down.push(e.down);var t=new Date,n=""+t.getMinutes()+t.getSeconds();this.labels.push(n),this.up.length>this.size&&this.up.shift(),this.down.length>this.size&&this.down.shift(),this.labels.length>this.size&&this.labels.shift(),this.subscribers.forEach(function(t){return t(e)})},subscribe:function(e){var t=this;return this.subscribers.push(e),function(){var n=t.subscribers.indexOf(e);t.subscribers.splice(n,1)}}},i=!1,l="";function s(e){c.appendData(JSON.parse(e))}function u(e){if(i)return c;var t=Object(a.a)(e),n=t.url,u=t.init;return fetch(n+r,u).then(function(e){e.ok&&(i=!0,function e(t){return t.read().then(function(n){for(var a=n.done,r=n.value,c=o.decode(r,{stream:!a}),u=(l+=c).split("\n"),p=u[u.length-1],d=0;d<u.length-1;d++)s(u[d]);return a?(s(p),l="",console.log("GET /traffic streaming done"),void(i=!1)):(l=p,e(t))})}(e.body.getReader()))}),c}},Kv4h:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("ODXe"),r=n("q1tI");function o(){var e=Object(r.useRef)(null),t=Object(r.useState)(200),n=Object(a.a)(t,2),o=n[0],c=n[1];var i=Object(r.useCallback)(function(){var t=e.current.getBoundingClientRect().top;c(window.innerHeight-t)},[]);return Object(r.useLayoutEffect)(function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),[e,o]}},OA2e:function(e,t,n){e.exports={RuleSearch:"_1u5AP7XMF9",RuleSearchContainer:"_2zeyKJDdFH",inputWrapper:"_3DQ7SXxKRA",input:"_1f-XUgRxH1",iconWrapper:"_3PLtWxZwrd"}},Plid:function(e,t,n){e.exports={root:"_3hz7LVhvUv",header:"_3HF-KB9mgO",icon:"_3HzgPICn91",body:"_1wpZuvoD5I",hostnamePort:"L7jTy-EFJ2",footer:"_2fehqRU9GV"}},"Pvz/":function(e,t,n){e.exports={btn:"_2A0HoxnDqc"}},RLOP:function(e,t,n){e.exports={logMeta:"_2tpN_G7FeO",logType:"_3wuPHKqO5W",logTime:"IwiVCclCSC",logText:"_3I1beKAMFt",logsWrapper:"_2MDNI6JESq",log:"_3KX1sKJ1QD",logPlaceholder:"_19_8g6kTIV",logPlaceholderIcon:"_3ljFcrWmBC"}},S7Mu:function(e,t,n){e.exports={root:"_2OZZRrEL0J",section:"lF_ZoyIdZN",sep:"VduFBb2hWX",label:"_2NQoBOQcGA"}},SXSQ:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),c=n.n(o),i=n("17x9"),l=n.n(i),s=n("TSYQ"),u=n.n(s),p=function(e){var t=e.id,n=e.width,o=void 0===n?20:n,i=e.height,l=void 0===i?20:i,s=e.className,p=Object(r.a)(e,["id","width","height","className"]),d=u()("icon",t,s),f="#"+t;return c.a.createElement("svg",Object(a.a)({className:d,width:o,height:l},p),c.a.createElement("use",{xlinkHref:f}))};p.propTypes={id:l.a.string.isRequired,width:l.a.number,height:l.a.number,className:l.a.string},t.a=c.a.memo(p)},SzcZ:function(e,t,n){e.exports={root:"_1r-KsYFNaj",floatAbove:"Hn6h5kxOg7"}},Tk1H:function(e,t,n){e.exports={root:"_1rJPiLWN4s",yacd:"_3h_IywJG1l",link:"aXXDDfyTjE"}},Tvb5:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("o0o1"),o=n.n(r),c=n("HaE+"),i=n("EJpJ"),l="/rules";function s(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(o.a.mark(function e(t){var n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+l,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p=n("p19a"),d=n("QLaP"),f=n.n(d),h=n("G4qV");n.d(t,"e",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return j});var m=function(e){return e.rules.allRules},v=function(e){return e.rules.searchText},b=Object(h.a)(v,m,function(e,t){return""===e?t:t.filter(function(t){return t.payload.indexOf(e)>=0})}),g="rules/CompletedFetchRules",E="rule/UpdateSearchText";function y(e){return{type:E,payload:{searchText:e.toLowerCase()}}}function w(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(p.c)(n()),e.next=3,s(a);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,f()(c.rules&&c.rules.length>=0,"there is no valid rules list in the rules API response"),i=c.rules.map(function(e,t){return e.id=t,e}),t({type:g,payload:{allRules:i}});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function O(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==m(n()).length){e.next=5;break}return e.next=4,t(w());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var x={allRules:[],searchText:""};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E:case g:return Object(a.a)({},e,r);default:return e}}},"Wii/":function(e,t,n){e.exports={input:"_2S85tjFa1n"}},XN28:function(e,t,n){e.exports={root:"SNYKRrv_2I",h1:"VG1cD2OYvg"}},YKzy:function(e,t,n){e.exports={ToggleSwitch:"_3evbv-Ui87",slider:"_1ok8KIb1RH"}},Z9Yo:function(e,t,n){e.exports={overlay:"ctrHyq7uir",content:"_17mHpKiOUD"}},blRg:function(e,t,n){e.exports={switch:"nJQwngxVo8"}},gjz0:function(e,t,n){e.exports={root:"_2rN7aLQPCl"}},"hN5/":function(e,t,n){},i53Z:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n("rePB"),r=n("vpQ4"),o="modals/OpenModal",c="modals/CloseModal";function i(e){return{type:o,payload:e}}function l(e){return{type:c,payload:e}}var s={apiConfig:!1};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.payload;switch(n){case o:return Object(r.a)({},s,Object(a.a)({},i,!0));case c:return Object(r.a)({},s,Object(a.a)({},i,!1));default:return e}}},kGfw:function(e,t,n){e.exports={root:"_30oJwXNik9",logoLink:"_1SsCcpJvxN",logo:"_2r8EkOI78X",pulse:"_2KRqAfqV8c",rows:"_2vUQ0Hs_C5",row:"_8mEn9Wlw1n",rowActive:"_1WyHmd6t6y",label:"_2eMIYGbP9O",themeSwitchContainer:"nURY8qkFLS"}},oFgh:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("o0o1"),o=n.n(r),c=n("HaE+"),i=n("EJpJ"),l="/configs";function s(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(o.a.mark(function e(t){var n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+l,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return"socks-port"in e&&(e["socket-port"]=e["socks-port"]),e}function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(o.a.mark(function e(t,n){var r,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(t),c=r.url,s=r.init,e.next=3,fetch(c+l,Object(a.a)({},s,{method:"PATCH",body:JSON.stringify(p(n))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=n("Jf6s"),m=n("i53Z"),v=n("p19a");n.d(t,"c",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"b",function(){return O}),n.d(t,"e",function(){return x}),n.d(t,"a",function(){return C});var b="configs/CompletedFetchConfigs",g="configs/OptimisticUpdateConfigs",E="configs/MarkHaveFetchedConfig",y=function(e){return e.configs},w=function(e){return e.configs["log-level"]};function O(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(v.c)(n()),e.next=4,s(r);case 4:a=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error fetch configs",e.t0),t(Object(m.c)("apiConfig")),e.abrupt("return");case 12:if(a.ok){e.next=15;break}return 404===a.status||401===a.status?t(Object(m.c)("apiConfig")):console.log("Error fetch configs",a.statusText),e.abrupt("return");case 15:return e.next=17,a.json();case 17:c=e.sent,t({type:b,payload:c}),y(n()).haveFetchedConfig?(i=Object(v.c)(n()),h.a(i)):t({type:E,payload:{haveFetchedConfig:!0}});case 21:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()}function x(e){return function(){var t=Object(c.a)(o.a.mark(function t(n,r){var c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:d(Object(v.c)(r()),e).then(function(e){!1===e.ok&&console.log("Error update configs",e.statusText)},function(e){throw console.log("Error update configs",e),e}).then(function(){n(O())}),c=y(r()),n({type:g,payload:Object(a.a)({},c,e)});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}var j={port:7890,"socks-port":7891,"redir-port":0,"allow-lan":!1,mode:"Rule","log-level":"silent",haveFetchedConfig:!1};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E:case g:case b:return Object(a.a)({},e,r);default:return e}}},p19a:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("ODXe"),o=n("o0o1"),c=n.n(o),i=n("HaE+"),l="yacd.haishan.me";function s(e){try{var t=JSON.stringify(e);localStorage.setItem(l,t)}catch(e){}}var u=n("oFgh"),p=n("i53Z");n.d(t,"c",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"f",function(){return w}),n.d(t,"a",function(){return O}),n.d(t,"e",function(){return x}),n.d(t,"b",function(){return k});var d="app/UpdateClashAPIConfig",f="app/SwitchTheme",h="app/SELECT_CHART_STYLE_INDEX",m=function(e){return e.app.clashAPIConfig},v=function(e){return e.app.theme},b=function(e){return e.app.selectedChartStyleIndex};function g(e){var t=e.hostname,n=e.port,a=e.secret;return function(){var e=Object(i.a)(c.a.mark(function e(r,o){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.trim().replace(/^http(s):\/\//,""),r({type:d,payload:{hostname:i,port:n,secret:a}}),s(o().app),r(Object(p.a)("apiConfig")),r(Object(u.b)());case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var E=document.body;function y(){"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?(E.classList.remove("light"),E.classList.add("dark")):(E.classList.remove("dark"),E.classList.add("light"))}function w(){return function(e,t){var n="light"===v(t())?"dark":"light";y(n),e({type:f,payload:{theme:n}}),s(t().app)}}function O(){!function(){try{localStorage.removeItem(l)}catch(e){}}();try{location.reload()}catch(e){}}function x(e){return function(t,n){t({type:h,payload:{selectedChartStyleIndex:e}}),s(n().app)}}var j={clashAPIConfig:{hostname:"127.0.0.1",port:"7892",secret:""},selectedChartStyleIndex:0,theme:"dark"};function C(){var e=function(){try{var e=localStorage.getItem(l);if(!e)return;return JSON.parse(e)}catch(e){return}}();e=Object(a.a)({},j,e);var t=function(){var e=location.search,t={};if("string"!=typeof e||""===e)return t;for(var n=e.replace(/^\?/,"").split("&"),a=0;a<n.length;a++){var o=n[a].split("="),c=Object(r.a)(o,2),i=c[0],l=c[1];t[i]=encodeURIComponent(l)}return t}();return t.port&&(e.clashAPIConfig.port=t.port),t.secret&&(e.clashAPIConfig.secret=t.secret),y(e.theme),e}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C(),t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case d:return Object(a.a)({},e,{clashAPIConfig:Object(a.a)({},r)});case f:case h:return Object(a.a)({},e,r);default:return e}}},rRNg:function(e,t,n){e.exports={content:"_3D3ZNp4oBz",container:"tgH3yv-xGR",overlay:"_3MMuzHtwZL"}},s9ru:function(e,t,n){e.exports={app:"_35EMVy62Je",content:"AwL8oIubvP"}},u4Dv:function(e,t,n){"use strict";var a=n("ODXe"),r=n("q1tI"),o=n.n(r),c=n("17x9"),i=n.n(c),l=n("ANjH"),s=n("U8pU"),u=Object.prototype.hasOwnProperty;function p(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return v});var d=Object(r.createContext)(null);function f(e){var t=e.store,n=e.children;return o.a.createElement(d.Provider,{value:t},n)}function h(){return Object(r.useContext)(d)}function m(e){var t=h().dispatch;return Object(r.useMemo)(function(){return function(e,t){var n="function"==typeof e?e():e;return Object(l.b)(n,t)}(e,t)},[e,t])}function v(e){var t=h(),n=e(t.getState()),o=Object(r.useState)(n),c=Object(a.a)(o,2),i=c[0],l=c[1];return Object(r.useEffect)(function(){var n=i;return t.subscribe(function(){var a=e(t.getState());(function(e,t){if(p(e,t))return!0;if("object"!==Object(s.a)(e)||null===e||"object"!==Object(s.a)(t)||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0;r<n.length;r++)if(!u.call(t,n[r])||!p(e[n[r]],t[n[r]]))return!1;return!0})(n,a)||(n=a,l(a))})},[i,e,t]),i}f.propTypes={store:i.a.object,children:i.a.node}},uLK7:function(e,t,n){e.exports={root:"_2id19fefQX",item:"_2QQQyNTKoG",itemActive:"XJkW0wZSAx"}}},[[0,4,2,5]],[1,3,6]]);
!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,f=[];p<s.length;p++)i=s[p],o[i]&&f.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([166,1]),n()}({137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(136);(r=t.Action||(t.Action={})).SPEED_NOTIFY="speed-notify";var a=function(){function e(){this.EE=new o}return e.prototype.notifySpeedTest=function(){this.EE.emit(r.SPEED_NOTIFY)},e.prototype.subscribe=function(e,t){this.EE.addListener(e,t)},e.prototype.unsubscribe=function(e,t){this.EE.removeListener(e,t)},e}();t.default=new a},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167),o=n(54);o.isClashX()?o.setupJsBridge(r.default):r.default()},167:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(27),i=n(59),s=n(108),l=n(35),c=n(42),u=n(238),p=n(351);t.default=function(){var e=document.getElementById("root"),t=o.createElement(i.Provider,r({},c.rootStores),o.createElement(s.HashRouter,null,o.createElement(l.I18nextProvider,{i18n:p.default},o.createElement(u.default,null))));a.render(t,e)}},180:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(181)),r(n(236))},181:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(14),p=n(182),f=n(90),h=n(54),d=n(55),y=n(39),m=function(){function e(){this.config={proxy:[],proxyGroup:[],rules:[]},this.data={general:{},proxy:[],proxyGroup:[],rules:[]},this.apiInfo={hostname:"127.0.0.1",port:"9090",secret:""},this.showAPIModal=!1,this.clashxData={startAtLogin:!1,systemProxy:!1}}return e.prototype.fetchAPIInfo=function(){return i(this,void 0,void 0,function(){var e,t,n=this;return s(this,function(r){switch(r.label){case 0:return h.isClashX()?[4,h.jsBridge.getAPIInfo()]:[3,2];case 1:return e=r.sent(),u.runInAction(function(){n.apiInfo={hostname:e.host,port:e.port,secret:e.secret}}),[2];case 2:return[4,d.getExternalControllerConfig()];case 3:return t=r.sent(),u.runInAction(function(){n.apiInfo=o({},t)}),[2]}})})},e.prototype.fetchData=function(){return i(this,void 0,void 0,function(){var e,t,n,r,a=this;return s(this,function(i){switch(i.label){case 0:return[4,Promise.all([d.getConfig(),d.getProxies(),d.getRules()])];case 1:return e=l.apply(void 0,[i.sent(),3]),t=e[0].data,n=e[1],r=e[2],u.runInAction(function(){a.data.general={port:t.port,socksPort:t["socks-port"],redirPort:t["redir-port"],mode:t.mode,logLevel:t["log-level"],allowLan:t["allow-lan"]};var e=new Set(["Selector","URLTest","Fallback","LoadBalance"]),i=new Set(["DIRECT","REJECT","GLOBAL"]),s=n.data.proxies.GLOBAL.all.filter(function(e){return!i.has(e)}).map(function(e){return o({},n.data.proxies[e],{name:e})}),c=l(y.partition(s,function(t){return!e.has(t.type)}),2),u=c[0],p=c[1];a.data.proxy=u,a.data.proxyGroup=p,a.data.rules=r.data.rules}),[2]}})})},e.prototype.fetchClashXData=function(){return i(this,void 0,void 0,function(){var e,t,n=this;return s(this,function(r){switch(r.label){case 0:return[4,h.jsBridge.getStartAtLogin()];case 1:return e=r.sent(),[4,h.jsBridge.isSystemProxySet()];case 2:return t=r.sent(),u.runInAction(function(){n.clashxData={startAtLogin:e,systemProxy:t}}),[2]}})})},e.prototype.fetchAndParseConfig=function(){return i(this,void 0,void 0,function(){var e,t=this;return s(this,function(n){switch(n.label){case 0:return[4,h.jsBridge.readConfigString()];case 1:return e=n.sent(),u.runInAction(function(){if(e){var n=p.parse(e),r=(n["external-controller"]||"").split(":"),o=(n.Proxy||[]).filter(function(e){return["vmess","ss","socks5"].includes(e.type)}),a=(n["Proxy Group"]||[]).filter(function(e){return["url-test","select","fallback"].includes(e.type)}),i=(n.Rule||[]).map(function(e){return e.split(",")}).filter(function(e){return 3<=e.length}).map(function(e){return{type:f.RuleType[e[0]],payload:e[1],proxy:e[2]}});t.config={general:{port:n.port||0,socksPort:n["socks-port"]||0,redirPort:n["redir-port"]||0,allowLan:n["allow-lan"]||!1,externalControllerAddr:r[0]||"",externalControllerPort:r[1]||"",secret:n.secret||"",logLevel:n["log-level"]||"info",mode:n.mode||"Rule"},proxy:o,proxyGroup:a,rules:i||[]}}}),[2]}})})},e.prototype.fetchConfig=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,d.getConfig()];case 1:return e=t.sent().data,this.config={general:{port:e.port,socksPort:e["socks-port"],redirPort:e["redir-port"],allowLan:e["allow-lan"],mode:e.mode,externalControllerAddr:y.getLocalStorageItem("externalControllerAddr","127.0.0.1"),externalControllerPort:y.getLocalStorageItem("externalControllerPort","9090"),secret:y.getLocalStorageItem("secret","")}},[2]}})})},e.prototype.updateConfig=function(){return i(this,void 0,void 0,function(){var e,t,n,r,o,a,i,l,c;return s(this,function(){return e=this.config,t=e.general,n=e.proxy,r=e.proxyGroup,o=e.rules,a=t.externalControllerAddr+":"+t.externalControllerPort,i=o.map(function(e){return[e.type,e.payload,e.proxy].join(",")}),l={"external-controller":a,port:t.port,"socks-port":t.socksPort,"redir-port":t.redirPort,"allow-lan":t.allowLan,secret:t.secret,"log-level":t.logLevel,mode:t.mode,Proxy:n,"Proxy Group":r,Rule:i},c=p.stringify(l),h.jsBridge.writeConfigWithString(c),[2]})})},e.prototype.updateAPIInfo=function(e){return i(this,void 0,void 0,function(){var t,n,r;return s(this,function(){return t=e.hostname,n=e.port,r=e.secret,y.setLocalStorageItem("externalControllerAddr",t),y.setLocalStorageItem("externalControllerPort",n),y.setLocalStorageItem("secret",r),window.location.reload(),[2]})})},e.prototype.setShowAPIModal=function(e){var t=this;u.runInAction(function(){t.showAPIModal=e})},e.prototype.modifyProxyByIndexAndSave=function(e,t){return i(this,void 0,void 0,function(){var n,r,o,a,i,l,u,p,h;return s(this,function(s){switch(s.label){case 0:n=this.config.proxy,r={},o=t.type,a=[],"ss"===o?a=f.SsProxyConfigList:"vmess"===o?a=f.VmessProxyConfigList:"socks5"===o&&(a=f.Socks5ProxyConfigList);try{for(i=c(a),l=i.next();!l.done;l=i.next())u=l.value,r[u]=t[u]}catch(e){p={error:e}}finally{try{l&&!l.done&&(h=i.return)&&h.call(i)}finally{if(p)throw p.error}}return n[e]=r,[4,this.updateConfig()];case 1:return s.sent(),[4,this.fetchAndParseConfig()];case 2:return s.sent(),[2]}})})},a([u.observable],e.prototype,"config",void 0),a([u.observable],e.prototype,"data",void 0),a([u.observable],e.prototype,"apiInfo",void 0),a([u.observable],e.prototype,"showAPIModal",void 0),a([u.observable],e.prototype,"clashxData",void 0),a([u.action],e.prototype,"fetchAPIInfo",null),a([u.action],e.prototype,"fetchData",null),a([u.action],e.prototype,"fetchClashXData",null),a([u.action],e.prototype,"fetchAndParseConfig",null),a([u.action],e.prototype,"fetchConfig",null),a([u.action],e.prototype,"updateConfig",null),a([u.action],e.prototype,"updateAPIInfo",null),a([u.action],e.prototype,"setShowAPIModal",null),a([u.action],e.prototype,"modifyProxyByIndexAndSave",null),e}();t.ConfigStore=m},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyType={Shadowsocks:"ss",Vmess:"vmess",Socks5:"socks5"},t.SsProxyConfigList=["name","type","server","port","cipher","password","obfs","obfs-host"],t.VmessProxyConfigList=["name","type","server","port","uuid","alterid","cipher","tls"],t.Socks5ProxyConfigList=["name","type","server","port"]},215:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.RuleType||(t.RuleType={})).DOMAIN="DOMAIN",r["DOMAIN-SUFFIX"]="DOMAIN-SUFFIX",r["DOMAIN-KEYWORD"]="DOMAIN-KEYWORD",r.GEOIP="GEOIP",r.FINAL="FINAL",r["IP-CIDR"]="IP-CIDR",r["USER-AGENT"]="USER-AGENT"},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagColors=["#ff3e5e","#686fff","#ff9a28","#b83fe6","#00c520"]},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SsCipher=["AEAD_AES_128_GCM","AEAD_AES_192_GCM","AEAD_AES_256_GCM","AEAD_CHACHA20_POLY1305","AEAD_XCHACHA20_POLY1305","RC4-MD5","AES-128-CTR","AES-192-CTR","AES-256-CTR","AES-128-CFB","AES-192-CFB","AES-256-CFB","CHACHA20","CHACHA20-IETF","XCHACHA20"],t.VmessCipher=["auto","none","aes-128-gcm","chacha20-poly1305"],t.pickCipherWithAlias=function(e){var n=e.toUpperCase();return"CHACHA20-IETF-POLY1305"===n?"AEAD_CHACHA20_POLY1305":"XCHACHA20-IETF-POLY1305"===n?"AEAD_XCHACHA20_POLY1305":"AES-128-GCM"===n?"AEAD_AES_128_GCM":"AES-196-GCM"===n?"AEAD_AES_196_GCM":"AES-256-GCM"===n?"AEAD_AES_256_GCM":t.SsCipher.find(function(e){return e===n})||""}},235:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(39),l=n(136),c=function(){function e(e){this.EE=new l,this.innerBuffer=[],this.isClose=!1,this.config=Object.assign({bufferLength:0,retryInterval:5e3,headers:{}},e),this.loop()}return e.prototype.loop=function(){return r(this,void 0,void 0,function(){var e,t,n,r,l,c,u,p,f,h,d;return o(this,function(o){switch(o.label){case 0:return[4,s.to(fetch(this.config.url,{mode:"cors",headers:this.config.headers}))];case 1:if(e=a.apply(void 0,[o.sent(),2]),t=e[0],n=e[1])return this.retry(n),[2];r=t.body.getReader(),l=new TextDecoder,o.label=2;case 2:return this.isClose?[3,4]:[4,s.to(r.read())];case 3:return c=a.apply(void 0,[o.sent(),2]),u=c[0].value,(p=c[1])?(this.retry(p),[3,4]):(f=l.decode(u).trim().split("\n"),h=f.map(function(e){return JSON.parse(e)}),this.EE.emit("data",h),0<this.config.bufferLength&&((d=this.innerBuffer).push.apply(d,i(h)),this.innerBuffer.length>this.config.bufferLength&&this.innerBuffer.splice(0,this.innerBuffer.length-this.config.bufferLength)),[3,2]);case 4:return[2]}})})},e.prototype.retry=function(e){this.isClose||(this.EE.emit("error",e),window.setTimeout(this.loop,this.config.retryInterval))},e.prototype.subscribe=function(e,t){this.EE.addListener(e,t)},e.prototype.unsubscribe=function(e,t){this.EE.removeListener(e,t)},e.prototype.buffer=function(){return this.innerBuffer.slice()},e.prototype.destory=function(){this.EE.removeAllListeners(),this.isClose=!0},e}();t.StreamReader=c},236:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(237),i=function(e){function t(t){var n=e.call(this)||this;return t&&(n.history=a.syncHistoryWithStore(t,n)),n}return o(t,e),t}(a.RouterStore);t.RouterStore=i,t.default=i},238:function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=n(108),c=n(240),u=n(17),p=n(54);n(242);var f=n(243),h=n(279),d=n(282),y=n(344),m=n(346),v=n(349),g=n(55),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.componentDidMount=function(){g.getLogsStreamReader()},n.prototype.render=function(){var e=[{path:"/proxies",name:"Proxies",component:f.default},{path:"/logs",name:"Logs",component:h.default},{path:"/rules",name:"Rules",component:d.default,noMobile:!0},{path:"/settings",name:"Settings",component:y.default}];return s.createElement("div",{className:u.default("app",{"not-clashx":!p.isClashX()})},s.createElement(m.default,{routes:e}),s.createElement("div",{className:"page-container"},s.createElement(l.Route,{exact:!0,path:"/",component:function(){return s.createElement(l.Redirect,{to:"/proxies"})}}),e.map(function(e){return s.createElement(l.Route,{exact:!1,path:e.path,key:e.path,component:e.component})})),s.createElement(v.default,null))},n=i([c.hot(e)],n)}(s.Component);t.default=b}).call(this,n(239)(e))},242:function(e,t,n){},243:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),u=n(35),p=n(59),f=n(42),h=n(137),d=n(26),y=n(270);n(278);var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleNotitySpeedTest=function(){h.default.notifySpeedTest()},t}return a(t,e),t.prototype.componentDidMount=function(){this.props.store.fetchData()},t.prototype.render=function(){var e=this.props,t=e.t,n=e.store;return c.createElement("div",{className:"page"},c.createElement("div",{className:"proxies-container"},c.createElement(d.Header,{title:t("groupTitle")}),c.createElement(d.Card,{className:"proxies-group-card"},c.createElement("ul",{className:"proxies-group-list"},n.data.proxyGroup.map(function(e){return c.createElement("li",{className:"proxies-group-item",key:e.name},c.createElement(y.Group,{config:e}))})))),c.createElement("div",{className:"proxies-container"},c.createElement(d.Header,{title:t("title")},c.createElement(d.Icon,{type:"speed",size:20}),c.createElement("span",{className:"proxies-speed-test",onClick:this.handleNotitySpeedTest},t("speedTestText"))),c.createElement("ul",{className:"proxies-list"},n.data.proxy.map(function(e){return c.createElement("li",{key:e.name},c.createElement(y.Proxy,{config:e}))}))))},t=i([p.inject.apply(void 0,l(f.storeKeys)),p.observer],t)}(c.Component);t.default=u.translate(["Proxies"])(m)},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(17);n(245),t.Header=function(e){var t=e.title,n=e.children,a=e.className,i=e.style;return r.createElement("header",{className:o.default("header",a),style:i},r.createElement("h1",null,t),r.createElement("div",{className:"operations"},n))}},245:function(e,t,n){},246:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(17);t.Icon=function(e){var t=e.type,n=e.size,i=void 0===n?14:n,s=e.className,l=e.style,c=a.default("clash-iconfont","icon-"+t,s),u=r({fontSize:i},l),p=r({},e,{className:c,style:u});return o.createElement("i",r({},p))}},247:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(26),s=n(17);n(248);var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.disabled||t.props.onChange(!t.props.checked)},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.checked,r=e.disabled;return a.createElement("div",{className:s.default("switch",{checked:n,disabled:r},t),onClick:this.handleClick},a.createElement(i.Icon,{className:"switch-icon",type:"check",size:20,style:{fontWeight:"bold"}}))},t.defaultProps={checked:!1,disabled:!1,onChange:function(){}},t}(a.Component);t.Switch=l},248:function(e,t,n){},249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(17);n(250),t.Card=function(e){var t=e.className,n=e.style,a=e.children;return r.createElement("div",{className:o.default("card",t),style:n},a)}},250:function(e,t,n){},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(17);n(252),t.Row=function(e){var t=e.gutter,n=void 0===t?24:t,a=e.align,i=void 0===a?"top":a,s=e.justify,l=void 0===s?"start":s,c=e.className,u=e.style,p=e.children;return r.createElement("div",{className:o.default("row","row-gutter-"+n,"row-align-"+i,"row-justify-"+l,c),style:u},p)}},252:function(e,t,n){},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(17);t.Col=function(e){var t=e.offset,n=void 0===t?0:t,a=e.order,i=void 0===a?0:a,s=e.span,l=void 0===s?1:s,c=e.className,u=e.style,p=e.children,f=Object.assign({},{order:i},u);return r.createElement("div",{className:o.default("column","column-offset-"+n,"column-span-"+l,c),style:f},p)}},254:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17);n(255);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.value,r=e.onSelect;return a.createElement("div",{className:"button-select"},t.map(function(e){return a.createElement("button",{value:e.value,key:e.value,className:i.default("button-select-options",{actived:n===e.value}),onClick:function(){return r(e.value)}},e.label)}))},t}(a.Component);t.ButtonSelect=s},255:function(e,t,n){},256:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(35),s=n(39),l=n(17);n(257);var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expand:!1,showExtend:!0,ulRef:a.createRef()},t.toggleExtend=function(){t.setState({expand:!t.state.expand})},t}return o(t,e),t.prototype.componentDidMount=function(){this.setState({showExtend:30<this.state.ulRef.current.offsetHeight})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.className,r=e.data,o=e.onClick,i=e.select,c=e.canClick,u=this.state.expand,p=this.state.expand?"auto":this.props.rowHeight,f=c?o:s.noop,h=r.map(function(e){var t=l.default({"tags-selected":i===e,"can-click":c});return a.createElement("li",{className:t,key:e,onClick:function(){return f(e)}},e)});return a.createElement("div",{className:l.default("tags-container",n),style:{height:p}},a.createElement("ul",{ref:this.state.ulRef,className:l.default("tags",{expand:u})},h),this.state.showExtend&&a.createElement("span",{className:"tags-expand",onClick:this.toggleExtend},this.state.expand?t("collapseText"):t("expandText")))},t}(a.Component);t.Tags=i.translate(["Proxies"])(c)},257:function(e,t,n){},258:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17);n(259);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.value,o=e.align,s=e.inside,l=e.autoFocus,c=e.type,u=e.onChange,p=e.onBlur;return a.createElement("input",{className:i.default("input","input-align-"+o,{"input-inside":s},t),style:n,value:r,autoFocus:l,type:c,onChange:function(e){return u(e.target.value,e)},onBlur:p})},t.defaultProps={value:"",disabled:!1,align:"center",inside:!1,autoFocus:!1,type:"text",onChange:function(){},onBlur:function(){}},t}(a.Component);t.Input=s},259:function(e,t,n){},26:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(244)),r(n(246)),r(n(247)),r(n(249)),r(n(251)),r(n(253)),r(n(254)),r(n(256)),r(n(258)),r(n(260)),r(n(262)),r(n(264)),r(n(266)),r(n(268))},260:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17),s=n(26),l=n(27);n(261);var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.$attachment=a.createRef(),t.$target=a.createRef(),t.state={dropdownListStyles:{},showDropDownList:!1,hasCreateDropList:!1},t.handleShowDropList=function(){if(!t.state.hasCreateDropList){var e=document.createElement("div");document.body.appendChild(e),t.$container=e,t.setState({hasCreateDropList:!0})}t.setState({showDropDownList:!0})},t.handleGlobalClick=function(e){var n=t.$attachment.current;n&&!n.contains(e.target)&&t.setState({showDropDownList:!1})},t.getSelectedOption=function(e,t){var n=null;return a.Children.forEach(t,function(t){t.props&&t.props.value===e&&(n=t)}),n},t.hookChildren=function(e,n,r){return a.Children.map(e,function(e){if(!e.props||!e.type)return e;var o=e.props.value===n?i.default(e.props.className,"selected"):e.props.className,s=e.props.onClick;return a.cloneElement(e,Object.assign({},e.props,{onClick:function(n){r(e.props.value,n),t.setState({showDropDownList:!1}),s&&s(n)},className:o}))})},t}return o(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleGlobalClick,!0),this.setState({dropdownListStyles:this.calculateAttachmentPosition()})},t.prototype.componentWillUnmount=function(){this.state.hasCreateDropList&&document.body.removeChild(this.$container),document.removeEventListener("click",this.handleGlobalClick,!0)},t.prototype.shouldComponentUpdate=function(e,t){return e.value!==this.props.value||t.showDropDownList!==this.state.showDropDownList},t.prototype.calculateAttachmentPosition=function(){var e=Math.floor,t=this.$target.current.getBoundingClientRect();return{top:e(t.top)-10,left:e(t.left)-10}},t.prototype.render=function(){var e=this.props,t=e.value,n=e.onSelect,r=e.children,o=e.className,c=e.style,u=this.state,p=u.dropdownListStyles,f=u.showDropDownList,h=u.hasCreateDropList,d=this.getSelectedOption(t,r),y=a.createElement("div",{className:i.default("select-list",{"select-list-show":f}),ref:this.$attachment,style:p},a.createElement("ul",{className:"list"},this.hookChildren(r,t,n)));return a.createElement(a.Fragment,null,a.createElement("div",{className:i.default("select",o),style:c,ref:this.$target,onClick:this.handleShowDropList},d&&d.props&&d.props.children,a.createElement(s.Icon,{type:"triangle-down"})),h&&l.createPortal(y,this.$container))},t}(a.Component);t.Select=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.key,o=e.disabled,s=e.children,l=e.onClick,c=void 0===l?function(){}:l,u=i.default("option",{disabled:void 0!==o&&o},t);return a.createElement("li",{className:u,style:n,key:r,onClick:c},s)},t}(a.Component);t.Option=u},261:function(e,t,n){},262:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17),s=n(27),l=n(26);n(263);var c=function(){},u=function(e){function t(t){var n=e.call(this,t)||this;n.$modal=a.createRef(),n.$mask=a.createRef(),n.handleMaskClick=function(e){var t=n.props.onClose;e.target===n.$mask&&t()};var r=document.createElement("div");return document.body.appendChild(r),n.$container=r,n}return o(t,e),t.prototype.componentWillUnmount=function(){document.body.removeChild(this.$container)},t.prototype.render=function(){var e=this.props,t=e.show,n=e.size,r=e.title,o=e.footer,c=e.children,u=e.className,p=e.bodyClassName,f=e.style,h=e.bodyStyle,d=e.onOk,y=e.onClose,m=a.createElement("div",{className:i.default("modal-mask",{"modal-show":t}),ref:this.$mask,onClick:this.handleMaskClick},a.createElement("div",{className:i.default("modal","modal-"+n,u),style:f,ref:this.$modal},a.createElement("div",{className:"modal-title"},r),a.createElement("div",{className:i.default("modal-body",p),style:h},c),o&&a.createElement("div",{className:"footer"},a.createElement(l.Button,{onClick:function(){return y()}},"取 消"),a.createElement(l.Button,{type:"primary",onClick:function(){return d()}},"确 定"))));return s.createPortal(m,this.$container)},t.defaultProps={show:!0,title:"Modal",size:"small",footer:!0,onOk:c,onClose:c},t}(a.Component);t.Modal=u},263:function(e,t,n){},264:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17),s=n(26);n(265);var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconMap={success:"check",info:"info",warning:"info",error:"close"},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.type,r=e.inside,o=e.children,l=e.className,c=e.style;return a.createElement("div",{className:i.default("alert","alert-"+(r?"note":"box")+"-"+n,l),style:c},a.createElement("span",{className:"alert-icon"},a.createElement(s.Icon,{type:this.iconMap[n],size:26})),t?a.createElement("p",{className:"alert-message"},t):a.createElement("div",{className:"alert-message"},o))},t.defaultProps={message:"",type:"info",inside:!1},t}(a.Component);t.Alert=l},265:function(e,t,n){},266:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17);n(267);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.children,o=e.className,s=e.style;return a.createElement("button",{className:i.default("button","button-"+t,o),style:s,onClick:n},r)},t.defaultProps={type:"normal",onClick:function(){}},t}(a.Component);t.Button=s},267:function(e,t,n){},268:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(26),l=n(17),c=n(27);n(269);var u=function(){},p={info:"info",success:"check",warning:"info-o",error:"close"},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){return e.setState({visible:!0})},0),setTimeout(function(){e.setState({visible:!1}),e.props.onClose()},this.props.duration)},t.prototype.render=function(){var e=this,t=this.props,n=t.removeComponent,r=t.icon,o=t.content,a=t.type;return i.createElement("div",{className:l.default("message","message-"+a,{"message-show":this.state.visible}),onTransitionEnd:function(){return!e.state.visible&&n()}},i.createElement("span",{className:"message-icon"},r),i.createElement("span",{className:"message-content"},o))},t.info=function(e,t,n){return h({type:"info",content:e,duration:t,onClose:n})},t.success=function(e,t,n){return h({type:"success",content:e,duration:t,onClose:n})},t.warning=function(e,t,n){return h({type:"warning",content:e,duration:t,onClose:n})},t.error=function(e,t,n){return h({type:"error",content:e,duration:t,onClose:n})},t.defaultProps={content:"",type:"info",icon:i.createElement(s.Icon,{type:"info",size:16}),duration:1500,onClose:u,removeComponent:u},t}(i.Component);function h(e){var t=document.createElement("div");document.body.appendChild(t);var n=i.createElement(s.Icon,{type:p[e.type],size:16}),r=e.type,o=e.content,l=e.duration,u=e.onClose;c.render(i.createElement(f,a({},{icon:n,type:r,content:o,removeComponent:function(){c.unmountComponentAtNode(t)&&document.body.removeChild(t)},duration:l,onClose:u})),t)}t.Message=f,t.showMessage=h},269:function(e,t,n){},270:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(271)),r(n(273)),r(n(275))},271:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(17),u=n(90),p=n(55),f=n(137),h=n(54),d=n(39);n(272);var y=function(e){function t(t){var n=e.call(this,t)||this;n.speedTest=function(){return a(n,void 0,void 0,function(){var e,t,n,r,o;return i(this,function(a){switch(a.label){case 0:return e=this.props.config,h.isClashX()?[4,h.jsBridge.getProxyDelay(e.name)]:[3,2];case 1:return 0===(t=a.sent())?[2,this.setState({hasError:!0})]:[2,this.setState({delay:t})];case 2:return[4,d.to(p.getProxyDelay(e.name))];case 3:return n=s.apply(void 0,[a.sent(),2]),r=n[0],n[1]?[2,this.setState({hasError:!0})]:(o=r.data.delay,this.setState({delay:o}),[2])}})})};var r=t.config,o=r.name,l=d.getLocalStorageItem(o);l||(l=d.sample(u.TagColors),d.setLocalStorageItem(o,l));var c=r.history.length?r.history.slice(-1)[0].delay:0;return n.state={delay:c,hasError:0===c,color:l},n}return o(t,e),t.prototype.componentWillUpdate=function(){var e=this.props.config.name,t=this.state.color,n=d.getLocalStorageItem(e);t!==n&&this.setState({color:n})},t.prototype.componentDidMount=function(){f.default.subscribe(f.Action.SPEED_NOTIFY,this.speedTest)},t.prototype.componentWillUnmount=function(){f.default.unsubscribe(f.Action.SPEED_NOTIFY,this.speedTest)},t.prototype.render=function(){var e=this.props,t=e.config,n=e.className,r=this.state,o=r.delay,a=r.color,i=r.hasError,s=i?void 0:a;return l.createElement("div",{className:c.default("proxy-item",{"proxy-error":i},n)},l.createElement("span",{className:"proxy-type",style:{backgroundColor:s}},t.type),l.createElement("p",{className:"proxy-name"},t.name),l.createElement("p",{className:"proxy-delay"},0===o?"-":o+"ms"))},t}(l.Component);t.Proxy=y},272:function(e,t,n){},273:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(59),h=n(55),d=n(42),y=n(26);n(274);var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChangeProxySelected=function(e){return s(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,h.changeProxySelected(this.props.config.name,e)];case 1:return t.sent(),[4,this.props.store.fetchData()];case 2:return t.sent(),[2]}})})},t}return a(t,e),t.prototype.render=function(){var e=this.props.config,t="Selector"===e.type;return p.createElement("div",{className:"proxy-group"},p.createElement("div",{className:"proxy-group-part"},p.createElement("span",{className:"proxy-group-name"},e.name),p.createElement("span",{className:"proxy-group-type"},e.type)),p.createElement("div",{className:"proxy-group-tags-container"},p.createElement(y.Tags,{className:"proxy-group-tags",data:e.all,onClick:this.handleChangeProxySelected,select:e.now,canClick:t,rowHeight:30})))},t=i([f.inject.apply(void 0,u(d.storeKeys))],t)}(p.Component);t.Group=m},274:function(e,t,n){},275:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(35),l=n(26),c=n(39);n(276);var u=n(90),p=n(277),f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOk=function(){var e=n.props.onOk,t=n.state,r=t.config,o=t.currentColor;c.setLocalStorageItem(r.name,o),e(r)},n.handleConfigChange=function(e,t){var r;console.log(e,t);var o=n.state.config;n.setState({config:a({},o,(r={},r[e]=t,r))})},n.state={config:t.config,currentColor:c.getLocalStorageItem(t.config.name)},n}return o(t,e),t.prototype.componentDidMount=function(){console.log(this.props.config)},t.prototype.getCipherFromType=function(e){return"ss"===e?u.SsCipher:"vmess"===e?u.VmessCipher:[]},t.prototype.getConfigListFromType=function(e){return"ss"===e?u.SsProxyConfigList:"vmess"===e?u.VmessProxyConfigList:"socks5"===e?u.Socks5ProxyConfigList:[]},t.prototype.renderFormItem=function(e){var t=this,n=this.props.t,r=this.state.config;return"type"===e?i.createElement(p.ProxyTypeSelector,{key:e,types:u.ProxyType,label:n("editDialog.type"),value:r.type,onSelect:function(e){return t.handleConfigChange("type",e)}}):"name"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.name"),value:r.name,onChange:function(e){return t.handleConfigChange("name",e)}}):"server"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.server"),value:r.server,onChange:function(e){return t.handleConfigChange("server",e)}}):"port"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.port"),value:r.port?r.port.toString():"",onChange:function(e){return t.handleConfigChange("port",+e)}}):"password"===e?i.createElement(p.ProxyPasswordForm,{key:e,label:n("editDialog.password"),value:r.password,onChange:function(e){return t.handleConfigChange("password",e)}}):"cipher"===e?i.createElement(p.ProxyCipherSelector,{key:e,ciphers:this.getCipherFromType(r.type),label:n("editDialog.cipher"),value:u.pickCipherWithAlias(r.cipher),onSelect:function(e){return t.handleConfigChange("cipher",e)}}):"obfs"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.obfs"),value:r.obfs,onChange:function(e){return t.handleConfigChange("obfs",e)}}):"obfs-host"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.obfs-host"),value:r["obfs-host"],onChange:function(e){return t.handleConfigChange("obfs-host",e)}}):"uuid"===e?i.createElement(p.ProxyPasswordForm,{key:e,label:n("editDialog.uuid"),value:r.uuid,onChange:function(e){return t.handleConfigChange("uuid",e)}}):"alterId"===e?i.createElement(p.ProxyInputForm,{key:e,label:n("editDialog.alterId"),value:r.alterId?r.alterId.toString():"",onChange:function(e){return t.handleConfigChange("alterId",+e)}}):"tls"===e?i.createElement(p.ProxySwitch,{key:e,label:n("editDialog.tls"),value:!!r.tls,onChange:function(e){return t.handleConfigChange("tls",!!e)}}):null},t.prototype.render=function(){var e=this,t=this.props,n=t.onCancel,r=t.t,o=this.state,a=o.currentColor,s=o.config.type,c=this.getConfigListFromType(s);return i.createElement(l.Modal,{className:"proxy-editor",title:r("editDialog.title"),onOk:this.handleOk,onClose:n},i.createElement(p.ProxyColorSelector,{colors:u.TagColors,value:a,onSelect:function(t){return e.setState({currentColor:t})}}),c.map(function(t){return e.renderFormItem(t)}))},t}(i.Component);t.ModifyProxyDialog=s.translate(["Proxies"])(f)},276:function(e,t,n){},277:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(17),s=n(26),l=n(39);t.ProxyTypeSelector=function(e){var t=e.types,n=e.label,r=e.value,o=e.onSelect,i=void 0===o?l.noop:o;return a.createElement(s.Row,{gutter:24,className:"proxy-editor-row"},a.createElement(s.Col,{span:6,className:"proxy-editor-label"},n),a.createElement(s.Col,{span:18},a.createElement(s.Select,{value:r,onSelect:i},Object.keys(t).map(function(e){var n=t[e];return a.createElement(s.Option,{value:n,key:n},e)}))))},t.ProxyColorSelector=function(e){var t=e.colors,n=e.value,r=e.onSelect,o=void 0===r?l.noop:r;return a.createElement(s.Row,{gutter:24,style:{padding:"12px 0"}},a.createElement("div",{className:"proxy-editor-color-selector"},t.map(function(e){return a.createElement("span",{className:i.default("color-item",{"color-item-active":n===e}),key:e,style:{background:e},onClick:function(){return o(e)}})})))},t.ProxyInputForm=function(e){var t=e.label,n=e.value,r=e.onChange,o=void 0===r?l.noop:r;return a.createElement(s.Row,{gutter:24,className:"proxy-editor-row"},a.createElement(s.Col,{span:6,className:"proxy-editor-label"},t),a.createElement(s.Col,{span:18},a.createElement(s.Input,{value:n,onChange:o,align:"left"})))},t.ProxySwitch=function(e){var t=e.label,n=e.value,r=e.onChange,o=void 0===r?l.noop:r;return a.createElement(s.Row,{gutter:24,align:"middle",className:"proxy-editor-row"},a.createElement(s.Col,{span:6,className:"proxy-editor-label"},t),a.createElement(s.Col,{span:18},a.createElement(s.Switch,{checked:n,onChange:o})))};var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showPassword:!1},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,r=t.value,o=t.onChange,i=this.state.showPassword,l=i?"text":"password";return a.createElement(s.Row,{gutter:24,className:"proxy-editor-row"},a.createElement(s.Col,{span:6,className:"proxy-editor-label"},n),a.createElement(s.Col,{span:18,className:"proxy-editor-value"},a.createElement(s.Input,{style:{paddingRight:"32px"},type:l,value:r,onChange:o,align:"left"}),a.createElement(s.Icon,{className:"proxy-editor-passsword-icon",type:i?"hide":"show",size:20,onClick:function(){return e.setState({showPassword:!i})}})))},t}(a.Component);t.ProxyPasswordForm=c,t.ProxyCipherSelector=function(e){var t=e.ciphers,n=e.label,r=e.value,o=e.onSelect,i=void 0===o?l.noop:o;return a.createElement(s.Row,{gutter:24,className:"proxy-editor-row"},a.createElement(s.Col,{span:6,className:"proxy-editor-label"},n),a.createElement(s.Col,{span:18},a.createElement(s.Select,{value:r,onSelect:i},t.map(function(e){return a.createElement(s.Option,{value:e,key:e},e)}))))}},278:function(e,t,n){},279:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(280),u=n(35),p=n(26);n(281);var f=n(55),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={logs:[]},t.streamReader=null,t.listRef=l.createRef(),t.scrollToBottom=function(){var e=t.listRef.current;e.scrollTop=e.scrollHeight},t}return o(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,n=this;return s(this,function(r){switch(r.label){case 0:return e=this,[4,f.getLogsStreamReader()];case 1:return e.streamReader=r.sent(),t=this.streamReader.buffer(),this.setState({logs:t},function(){return n.scrollToBottom()}),this.streamReader.subscribe("data",function(e){t=[].concat(n.state.logs,e.map(function(e){return a({},e,{time:new Date})})),n.setState({logs:t},function(){return n.scrollToBottom()})}),[2]}})})},t.prototype.render=function(){var e=this.props.t;return l.createElement("div",{className:"page"},l.createElement(p.Header,{title:e("title")}),l.createElement(p.Card,{className:"logs-card"},l.createElement("ul",{className:"logs-panel",ref:this.listRef},this.state.logs.map(function(e,t){return l.createElement("li",{key:t},l.createElement("span",{className:"logs-panel-time"},c(e.time).format("YYYY-MM-DD HH:mm:ss")),l.createElement("span",null,"[",e.type,"] ",e.payload))}))))},t}(l.Component);t.default=u.translate(["Logs"])(h)},281:function(e,t,n){},282:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),u=n(35),p=n(26);n(283);var f=n(42),h=n(59),d=n(364),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRuleItem=function(e){var n=e.index,r=e.key,o=e.style,a=t.props.store.data.rules[n];return c.createElement("li",{className:"rule-item",key:r,style:o},c.createElement(p.Row,{className:"rule-item-row",gutter:24,align:"middle"},c.createElement(p.Col,{className:"rule-type",span:6,offset:1},a.type),c.createElement(p.Col,{className:"payload",span:11},a.payload),c.createElement(p.Col,{className:"rule-proxy",span:6},a.proxy)))},t}return a(t,e),t.prototype.componentWillMount=function(){this.props.store.fetchData()},t.prototype.render=function(){var e=this,t=this.props.t,n=this.props.store.data.rules;return c.createElement("div",{className:"page"},c.createElement(p.Header,{title:t("title")}),c.createElement(p.Card,{className:"rules-card"},c.createElement(d.AutoSizer,{className:"rules"},function(t){var r=t.height,o=t.width;return c.createElement(d.List,{height:r,width:o,rowCount:n.length,rowRenderer:e.renderRuleItem,rowHeight:50,overscanRowCount:10})})))},t=i([h.inject.apply(void 0,l(f.storeKeys)),h.observer],t)}(c.Component);t.default=u.translate(["Rules"])(y)},283:function(e,t,n){},344:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(35),h=n(156),d=n(59),y=n(26),m=n(55),v=n(39),g=n(42);n(345);var b=n(54),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={socks5ProxyPort:7891,httpProxyPort:7890,isClashX:!1},t.languageOptions=[{label:"中文",value:"zh"},{label:"English",value:"en"}],t.changeLanguage=function(e){h.changeLanguage(e)},t.handleProxyModeChange=function(e){return s(t,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,v.to(m.updateConfig({mode:e}))];case 1:return t=c.apply(void 0,[n.sent(),2]),t[1]||g.rootStores.store.fetchData(),[2]}})})},t.handleHttpPortSave=function(){return s(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,v.to(m.updateConfig({port:this.state.httpProxyPort}))];case 1:return e=c.apply(void 0,[t.sent(),2]),e[1]?[3,3]:[4,this.props.store.fetchData()];case 2:t.sent(),this.setState({httpProxyPort:this.props.store.data.general.port}),t.label=3;case 3:return[2]}})})},t.handleSocksPortSave=function(){return s(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,v.to(m.updateConfig({"socks-port":this.state.socks5ProxyPort}))];case 1:return e=c.apply(void 0,[t.sent(),2]),e[1]?[3,3]:[4,this.props.store.fetchData()];case 2:t.sent(),this.setState({socks5ProxyPort:this.props.store.data.general.socksPort}),t.label=3;case 3:return[2]}})})},t.handleAllowLanChange=function(e){return s(t,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,v.to(m.updateConfig({"allow-lan":e}))];case 1:return t=c.apply(void 0,[n.sent(),2]),t[1]?[3,3]:[4,this.props.store.fetchData()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.handleStartAtLoginChange=function(e){return s(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,b.jsBridge.setStartAtLogin(e)];case 1:return t.sent(),this.setState({startAtLogin:e}),[2]}})})},t.handleSetSystemProxy=function(e){return s(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,b.jsBridge.setSystemProxy(e)];case 1:return t.sent(),this.setState({setAsSystemProxy:e}),[2]}})})},t}return a(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,g.rootStores.store.fetchData()];case 1:return t.sent(),b.isClashX()?[4,g.rootStores.store.fetchClashXData()]:[3,3];case 2:t.sent(),this.setState({isClashX:!0}),t.label=3;case 3:return e=this.props.store.data.general,this.setState({socks5ProxyPort:e.socksPort,httpProxyPort:e.port}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.t,r=t.lng,o=t.store,a=this.state,i=a.isClashX,s=a.socks5ProxyPort,l=a.httpProxyPort,c=o.apiInfo,u=c.hostname,f=c.port,h=o.data.general,d=h.allowLan,m=h.mode,v=o.clashxData,g=v.startAtLogin,b=v.systemProxy,_=[{label:n("values.global"),value:"Global"},{label:n("values.rules"),value:"Rule"},{label:n("values.direct"),value:"Direct"}];return p.createElement("div",{className:"page"},p.createElement(y.Header,{title:n("title")}),p.createElement(y.Card,{className:"settings-card"},p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:14,offset:1},p.createElement("span",{className:"label"},n("labels.startAtLogin"))),p.createElement(y.Col,{span:8,className:"value-column"},p.createElement(y.Switch,{disabled:!i,checked:g,onChange:this.handleStartAtLoginChange}))),p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:8,offset:1},p.createElement("span",{className:"label"},n("labels.language"))),p.createElement(y.Col,{span:14,className:"value-column"},p.createElement(y.ButtonSelect,{options:this.languageOptions,value:r.replace(/-.+$/,""),onSelect:this.changeLanguage})))),p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:14,offset:1},p.createElement("span",{className:"label"},n("labels.setAsSystemProxy"))),p.createElement(y.Col,{span:8,className:"value-column"},p.createElement(y.Switch,{disabled:!i,checked:b,onChange:this.handleSetSystemProxy}))),p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:14,offset:1},p.createElement("span",{className:"label"},n("labels.allowConnectFromLan"))),p.createElement(y.Col,{span:8,className:"value-column"},p.createElement(y.Switch,{checked:d,onChange:this.handleAllowLanChange}))))),p.createElement(y.Card,{className:"settings-card"},p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:8,offset:1},p.createElement("span",{className:"label"},n("labels.proxyMode"))),p.createElement(y.Col,{span:14,className:"value-column"},p.createElement(y.ButtonSelect,{options:_,value:m,onSelect:this.handleProxyModeChange}))),p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:14,offset:1},p.createElement("span",{className:"label"},n("labels.socks5ProxyPort"))),p.createElement(y.Col,{span:8},p.createElement(y.Input,{value:s,onChange:function(t){return e.setState({socks5ProxyPort:parseInt(t,10)})},onBlur:this.handleSocksPortSave})))),p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:14,offset:1},p.createElement("span",{className:"label"},n("labels.httpProxyPort"))),p.createElement(y.Col,{span:8},p.createElement(y.Input,{type:"number",value:l,onChange:function(t){return e.setState({httpProxyPort:parseInt(t,10)})},onBlur:this.handleHttpPortSave}))),p.createElement(y.Col,{span:12},p.createElement(y.Col,{span:12,offset:1},p.createElement("span",{className:"label"},n("labels.externalController"))),p.createElement(y.Col,{className:"external-controller",span:10},p.createElement("span",{className:"modify-btn",onClick:function(){return e.props.store.setShowAPIModal(!0)}},u+":"+f))))),p.createElement(y.Card,{className:"clash-version",style:{display:"none"}},p.createElement("span",{className:"check-icon"},p.createElement(y.Icon,{type:"check",size:20})),p.createElement("p",{className:"version-info"},n("versionString",{version:"unknown"})),p.createElement("span",{className:"check-update-btn"},n("checkUpdate"))))},t=i([d.inject.apply(void 0,u(g.storeKeys)),d.observer],t)}(p.Component);t.default=f.translate(["Settings"])(_)},345:function(e,t,n){},346:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(108),s=n(35),l=n(17);n(347);var c=n(348),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.routes,n=e.t;return a.createElement("div",{className:"sidebar"},a.createElement("img",{src:c,className:"sidebar-logo"}),a.createElement("ul",{className:"sidebar-menu"},t.map(function(e){var t=e.path,r=e.name,o=e.exact,s=e.noMobile;return a.createElement("li",{className:l.default("item",{"no-mobile":s}),key:r},a.createElement(i.NavLink,{to:t,activeClassName:"active",exact:!!o},n(r)))})))},t}(a.Component);t.default=s.translate(["SideBar"])(u)},347:function(e,t,n){},348:function(e,t,n){e.exports=n.p+"img/33343e6117c37aaef8886179007ba6b5.png"},349:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,s=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(s=(3>i?a(s):3<i?a(t,n,s):a(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(35),h=n(59),d=n(42),y=n(26);n(350);var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hostname:"",port:"",secret:""},t.handleOk=function(){var e=t.state,n=e.hostname,r=e.port,o=e.secret;t.props.store.updateAPIInfo({hostname:n,port:r,secret:o})},t.handleCancel=function(){t.props.store.setShowAPIModal(!1)},t}return a(t,e),t.prototype.componentWillMount=function(){return s(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,this.props.store.fetchAPIInfo()];case 1:return t.sent(),e=this.props.store.apiInfo,this.setState({hostname:e.hostname,port:e.port,secret:e.secret}),[2]}})})},t.prototype.render=function(){var e=this,t=this.props.t,n=this.state,r=n.hostname,o=n.port,a=n.secret,i=this.props.store.showAPIModal;return p.createElement(y.Modal,{show:i,title:t("externalControllerSetting.title"),bodyClassName:"external-controller",onClose:this.handleCancel,onOk:this.handleOk},p.createElement(y.Alert,{type:"info",inside:!0},p.createElement("p",null,t("externalControllerSetting.note"))),p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:4,className:"title"},t("externalControllerSetting.host")),p.createElement(y.Col,{span:20,className:"form"},p.createElement(y.Input,{align:"left",inside:!0,value:r,onChange:function(t){return e.setState({hostname:t})}}))),p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:4,className:"title"},t("externalControllerSetting.port")),p.createElement(y.Col,{span:20,className:"form"},p.createElement(y.Input,{align:"left",inside:!0,value:o,onChange:function(t){return e.setState({port:t})}}))),p.createElement(y.Row,{gutter:24,align:"middle"},p.createElement(y.Col,{span:4,className:"title"},t("externalControllerSetting.secret")),p.createElement(y.Col,{span:20,className:"form"},p.createElement(y.Input,{align:"left",inside:!0,value:a,onChange:function(t){return e.setState({secret:t})}}))))},t=i([h.inject.apply(void 0,u(d.storeKeys)),h.observer],t)}(p.Component);t.default=f.translate(["Settings"])(m)},350:function(e,t,n){},351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156),o=n(352),a=n(362),i=n(363),s={fallbackLng:"en_US",ns:["SideBar","Settings","Logs"],resources:{en:a.default,zh:i.default},react:{wait:!0}};t.default=r.use(o).init(s)},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SideBar:{Proxies:"Proxies",Overview:"Overview",Logs:"Logs",Rules:"Rules",Settings:"Setting"},Settings:{title:"Settings",labels:{startAtLogin:"Start at login",language:"language",setAsSystemProxy:"Set as system proxy",allowConnectFromLan:"Allow connect from Lan",proxyMode:"Mode",socks5ProxyPort:"Socks5 proxy port",httpProxyPort:"HTTP proxy port",externalController:"External controller"},values:{cn:"中文",en:"English",global:"Global",rules:"Rules",direct:"Direct"},versionString:"Current ClashX is the latest version：{{version}}",checkUpdate:"Check Update",externalControllerSetting:{title:"External Controller",note:"Please note that modifying this configuration will only configure Dashboard. Will not modify your Clash configuration file. Please make sure that the external controller address matches the address in the Clash configuration file, otherwise, Dashboard will not be able to connect to Clash.",host:"Host",port:"Port",secret:"Secret"}},Logs:{title:"Logs"},Rules:{title:"Rules"},Proxies:{title:"Proxies",editDialog:{title:"Edit Proxy",color:"Color",name:"Name",type:"Type",server:"Server",port:"Port",password:"Password",cipher:"Cipher",obfs:"Obfs","obfs-host":"Obfs-host",uuid:"UUID",alterId:"AlterId",tls:"TLS"},groupTitle:"Policy Group",expandText:"Expand",collapseText:"Collapse",speedTestText:"Speed Test"}}},363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SideBar:{Proxies:"代理",Overview:"总览",Logs:"日志",Rules:"规则",Settings:"设置"},Settings:{title:"设置",labels:{startAtLogin:"开机时启动",language:"语言",setAsSystemProxy:"设置为系统代理",allowConnectFromLan:"允许来自局域网的连接",proxyMode:"代理模式",socks5ProxyPort:"Socks5 代理端口",httpProxyPort:"HTTP 代理端口",externalController:"外部控制设置"},values:{cn:"中文",en:"English",global:"全局",rules:"规则",direct:"直连"},versionString:"当前 ClashX 已是最新版本：{{version}}",checkUpdate:"检查更新",externalControllerSetting:{title:"编辑外部控制设置",note:"请注意，修改该配置项并不会修改你的 Clash 配置文件，请确认修改后的外部控制地址和 Clash 配置文件内的地址一致，否则会导致 Dashboard 无法连接。",host:"Host",port:"端口",secret:"密钥"}},Logs:{title:"日志"},Rules:{title:"规则"},Proxies:{title:"代理",editDialog:{title:"编辑代理",color:"颜色",name:"名字",type:"类型",server:"服务器",port:"端口",password:"密码",cipher:"加密方式",obfs:"Obfs","obfs-host":"Obfs-host",uuid:"UUID",alterId:"AlterId",tls:"TLS"},groupTitle:"策略组",expandText:"展开",collapseText:"收起",speedTestText:"测速"}}},39:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function i(e,t){return e+Math.random()*(t-e)>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorageItem=function(e,t){return void 0===t&&(t=""),window.localStorage.getItem(e)||t},t.setLocalStorageItem=function(e,t){return window.localStorage.setItem(e,t)},t.removeLocalStorageItem=function(e){return window.localStorage.removeItem(e)},t.randomNumber=i,t.sample=function(e){return e[i(0,e.length)]},t.noop=function(){},t.to=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e];case 1:return[2,[t.sent(),null]];case 2:return[2,[null,t.sent()]];case 3:return[2]}})})},t.partition=function(e,t){var n,r,o=[],i=[];try{for(var s,l=a(e),c=l.next();!c.done;c=l.next())t(s=c.value)?o.push(s):i.push(s)}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[o,i]}},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),o=n(14),a=n(180);o.configure({enforceActions:"observed"});var i=r.createHashHistory();t.rootStores={router:new a.RouterStore(i),store:new a.ConfigStore},t.storeKeys=Object.keys(t.rootStores)},54:function(e,t,n){"use strict";function r(){return"ClashX Runtime"===navigator.userAgent}Object.defineProperty(t,"__esModule",{value:!0}),t.isClashX=r,t.jsBridge=null;var o=function(){function e(e){var t=this;void 0===e&&(e=function(){}),this.instance=null,window.WebViewJavascriptBridge&&(this.instance=window.WebViewJavascriptBridge,e(this.instance)),this.initBridge(function(n){t.instance=n,e(n)})}return e.prototype.initBridge=function(e){if(!r())return e(null);if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){return document.documentElement.removeChild(t)},0)},e.prototype.callHandler=function(e,t){var n=this;return new Promise(function(r){n.instance.callHandler(e,t,r)})},e.prototype.ping=function(){return this.callHandler("ping")},e.prototype.readConfigString=function(){return this.callHandler("readConfigString")},e.prototype.getPasteboard=function(){return this.callHandler("getPasteboard")},e.prototype.getAPIInfo=function(){return this.callHandler("apiInfo")},e.prototype.setPasteboard=function(e){return this.callHandler("setPasteboard",e)},e.prototype.writeConfigWithString=function(e){return this.callHandler("writeConfigWithString",e)},e.prototype.setSystemProxy=function(e){return this.callHandler("setSystemProxy",e)},e.prototype.getStartAtLogin=function(){return this.callHandler("getStartAtLogin")},e.prototype.getProxyDelay=function(e){return this.callHandler("speedTest",e)},e.prototype.setStartAtLogin=function(e){return this.callHandler("setStartAtLogin",e)},e.prototype.isSystemProxySet=function(){return this.callHandler("isSystemProxySet")},e}();t.JsBridge=o,t.setupJsBridge=function(e){return t.jsBridge?e(t.jsBridge):void(t.jsBridge=new o(e))}},55:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(218),s=n(39),l=n(54),c=n(42),u=n(235),p=null;function f(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,e.sent().get("configs")]}})})}function h(){return r(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(o){switch(o.label){case 0:return a?[2,a]:[4,d()];case 1:return e=o.sent(),t=e.hostname,n=e.port,r=e.secret,(a=i.default.create({baseURL:"//"+t+":"+n,headers:r?{Authorization:"Bearer "+r}:{}})).interceptors.response.use(function(e){return e},function(e){throw e.response&&401!==e.response.status||c.rootStores.store.setShowAPIModal(!0),e}),[2,a]}})})}function d(){return r(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(o){switch(o.label){case 0:return l.isClashX()?[4,l.jsBridge.getAPIInfo()]:[3,2];case 1:return[2,{hostname:(e=o.sent()).host,port:e.port,secret:e.secret}];case 2:if(t=s.getLocalStorageItem("externalControllerAddr","127.0.0.1"),n=s.getLocalStorageItem("externalControllerPort","9090"),r=s.getLocalStorageItem("secret",""),!t||!n)throw new Error("can't get hostname or port");return[2,{hostname:t,port:n,secret:r}]}})})}t.getConfig=f,t.updateConfig=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,h()];case 1:return[2,t.sent().patch("configs",e)]}})})},t.getRules=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,e.sent().get("rules")]}})})},t.updateRules=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,e.sent().put("rules")]}})})},t.getProxies=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,e.sent().get("proxies")]}})})},t.getProxy=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,h()];case 1:return[2,t.sent().get("proxies/"+e)]}})})},t.getProxyDelay=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,h()];case 1:return[2,t.sent().get("proxies/"+e+"/delay",{params:{timeout:5e3,url:"http://www.gstatic.com/generate_204"}})]}})})},t.changeProxySelected=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,h()];case 1:return[2,n.sent().put("proxies/"+e,{name:t})]}})})},t.getInstance=h,t.getExternalControllerConfig=d,t.getLogsStreamReader=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(o){switch(o.label){case 0:return p?[2,p]:[4,d()];case 1:return e=o.sent(),[4,f()];case 2:return t=o.sent().data,n="//"+e.hostname+":"+e.port+"/logs?level="+t["log-level"],r=e.secret?{Authorization:"Bearer "+e.secret}:{},[2,p=new u.StreamReader({url:n,bufferLength:200,headers:r})]}})})}},90:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(214)),r(n(215)),r(n(216)),r(n(217))}});